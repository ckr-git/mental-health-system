server:
  port: 8080

spring:
  application:
    name: mental-health-system

  # 数据库配置 - 使用环境变量
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:mental_health}?useUnicode=true&characterEncoding=utf8&serverTimezone=Asia/Shanghai&useSSL=false&allowPublicKeyRetrieval=true
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:root123456}

  # 文件上传配置
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 20MB

# MyBatis-Plus配置
mybatis-plus:
  mapper-locations: classpath:mapper/**/*.xml
  type-aliases-package: com.mental.health.entity
  configuration:
    map-underscore-to-camel-case: true
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  global-config:
    db-config:
      logic-delete-field: deleted
      logic-delete-value: 1
      logic-not-delete-value: 0

# JWT配置 - 使用环境变量
jwt:
  secret: ${JWT_SECRET:mental-health-system-secret-key-2024-secure-random-string-for-production}
  expiration: 86400  # 24小时

# AI配置 - 阿里云百炼
ai:
  # Mock模式：true=使用本地模拟响应（不调用真实API），false=调用真实AI API
  mock:
    enabled: ${AI_MOCK_ENABLED:true}
  api:
    # 阿里云百炼API Key - 使用环境变量
    key: ${AI_API_KEY:your-api-key-here}
    # 阿里云百炼API地址
    url: https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation
  # 阿里云百炼模型
  model: qwen-plus

# 文件存储路径
file:
  upload-path: ./uploads/
  max-size: 10485760  # 10MB

# 登录安全配置
security:
  login:
    max-attempts: ${LOGIN_MAX_ATTEMPTS:5}
    lock-duration: ${LOGIN_LOCK_DURATION:300}

# 日志配置
logging:
  level:
    com.mental.health: ${LOG_LEVEL:info}
    org.springframework: info
