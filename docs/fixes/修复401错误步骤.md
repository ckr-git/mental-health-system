# ä¿®å¤401é”™è¯¯ - å®Œæ•´æ­¥éª¤

## âœ… å·²å®Œæˆçš„ä¿®å¤

1. **åç«¯ç¼–è¯‘é”™è¯¯** - âœ… å·²ä¿®å¤
   - ä¿®å¤äº† `TimeCapsuleService.java` çš„ç±»å‹é”™è¯¯
   - åç«¯æˆåŠŸç¼–è¯‘å¹¶è¿è¡Œåœ¨ http://localhost:8080

2. **å‰ç«¯APIè·¯å¾„é”™è¯¯** - âœ… å·²ä¿®å¤
   - æ›´æ–°äº† `frontend/src/api/index.ts`
   - å°†æ—§è·¯å¾„ `/api/patient/symptom/*` æ”¹ä¸ºæ–°è·¯å¾„ `/api/patient/mood-diary/*`

## ğŸ”§ éœ€è¦ä½ æ‰§è¡Œçš„æ­¥éª¤

### ç¬¬1æ­¥ï¼šé‡å¯å‰ç«¯æœåŠ¡

```bash
# åœæ­¢å½“å‰å‰ç«¯ï¼ˆå¦‚æœåœ¨è¿è¡Œï¼‰
æŒ‰ Ctrl+C

# è¿›å…¥å‰ç«¯ç›®å½•
cd frontend

# é‡æ–°å¯åŠ¨
npm run dev
```

### ç¬¬2æ­¥ï¼šæ¸…é™¤æµè§ˆå™¨ç¼“å­˜

**æ–¹æ³•1ï¼šæ¸…é™¤ç¼“å­˜**
1. æŒ‰ `Ctrl + Shift + Delete`
2. é€‰æ‹©"ç¼“å­˜çš„å›¾åƒå’Œæ–‡ä»¶"
3. ç‚¹å‡»"æ¸…é™¤æ•°æ®"

**æ–¹æ³•2ï¼šä½¿ç”¨æ— ç—•æ¨¡å¼ï¼ˆæ¨èï¼‰**
1. æŒ‰ `Ctrl + Shift + N` æ‰“å¼€æ— ç—•çª—å£
2. è®¿é—® http://localhost:3000
3. ç™»å½•æµ‹è¯•

### ç¬¬3æ­¥ï¼šæµ‹è¯•ç™»å½•

1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. åˆ‡æ¢åˆ° **Network** æ ‡ç­¾
3. ç™»å½•è´¦å·ï¼š
   - è´¦å·ï¼š`patient001`
   - å¯†ç ï¼š`123456`
4. è§‚å¯ŸNetworkä¸­çš„è¯·æ±‚

## âœ… éªŒè¯æˆåŠŸçš„æ ‡å¿—

### åœ¨Networkæ ‡ç­¾ä¸­åº”è¯¥çœ‹åˆ°ï¼š

**æ—§çš„é”™è¯¯è¯·æ±‚ï¼ˆä¸åº”è¯¥å‡ºç°ï¼‰ï¼š**
- âŒ `/api/patient/symptom/recent` - 401é”™è¯¯

**æ–°çš„æ­£ç¡®è¯·æ±‚ï¼ˆåº”è¯¥çœ‹åˆ°ï¼‰ï¼š**
- âœ… `/api/patient/mood-diary/recent` - 200æˆåŠŸ
- âœ… `/api/patient/mood-diary/list` - 200æˆåŠŸ
- âœ… `/api/patient/theme/config` - 200æˆåŠŸ

### å“åº”ç¤ºä¾‹

**ç™»å½•æˆåŠŸåçš„å“åº”ï¼š**
```json
{
  "code": 200,
  "message": "ç™»å½•æˆåŠŸ",
  "data": {
    "token": "eyJhbGciOiJIUzI1Ni...",
    "userInfo": {
      "id": 1,
      "username": "patient001",
      "role": "PATIENT"
    }
  }
}
```

**æ—¥è®°åˆ—è¡¨è¯·æ±‚æˆåŠŸï¼š**
```json
{
  "code": 200,
  "message": "success",
  "data": {
    "records": [],
    "total": 0,
    "current": 1,
    "size": 10
  }
}
```

## ğŸ” å¦‚æœä»ç„¶æœ‰401é”™è¯¯

### æ£€æŸ¥é¡¹ï¼š

1. **Tokenæ˜¯å¦æ­£ç¡®ä¿å­˜**
   - F12 â†’ Application â†’ Local Storage
   - æ£€æŸ¥æ˜¯å¦æœ‰ `token` å­—æ®µ

2. **è¯·æ±‚å¤´æ˜¯å¦å¸¦Token**
   - F12 â†’ Network â†’ ç‚¹å‡»å¤±è´¥çš„è¯·æ±‚
   - Headers â†’ Request Headers
   - åº”è¯¥æœ‰ï¼š`Authorization: Bearer eyJhbG...`

3. **åç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œ**
   - è®¿é—®ï¼šhttp://localhost:8080
   - åº”è¯¥çœ‹åˆ°ä¸€äº›å“åº”ï¼ˆä¸æ˜¯è¿æ¥å¤±è´¥ï¼‰

## ğŸ“‹ æ–°æ¥å£å¯¹ç…§è¡¨

| åŠŸèƒ½ | æ—§è·¯å¾„ | æ–°è·¯å¾„ |
|-----|--------|--------|
| æ·»åŠ è®°å½• | `/patient/symptom/add` | `/patient/mood-diary/add` |
| è·å–åˆ—è¡¨ | `/patient/symptom/list` | `/patient/mood-diary/list` |
| è·å–è¯¦æƒ… | `/patient/symptom/{id}` | `/patient/mood-diary/detail/{id}` |
| æ›´æ–°çŠ¶æ€ | `/patient/symptom/update` | `/patient/mood-diary/status/{id}` |
| åˆ é™¤ç•™è¨€ | `/patient/symptom/{id}` | `/patient/mood-comment/{id}` |
| æœ€è¿‘è®°å½• | `/patient/symptom/recent` | `/patient/mood-diary/recent` |

## ğŸ¯ å®Œæˆåçš„æ•ˆæœ

- âœ… ç™»å½•ä¸å†å‡ºç°401é”™è¯¯
- âœ… æ§åˆ¶å°ä¸å†æ˜¾ç¤ºçº¢è‰²é”™è¯¯
- âœ… Dashboardèƒ½æ­£å¸¸åŠ è½½æ•°æ®
- âœ… ç—‡çŠ¶è®°å½•é¡µé¢èƒ½æ­£å¸¸æ˜¾ç¤º

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **å¿…é¡»é‡å¯å‰ç«¯** - å¦åˆ™ä»£ç æ›´æ”¹ä¸ç”Ÿæ•ˆ
2. **å¿…é¡»æ¸…é™¤ç¼“å­˜** - å¦åˆ™åŠ è½½çš„æ˜¯æ—§ä»£ç 
3. **ä½¿ç”¨æ— ç—•æ¨¡å¼** - æœ€ç®€å•çš„æµ‹è¯•æ–¹æ³•

---

æ‰§è¡Œå®Œè¿™äº›æ­¥éª¤åï¼Œå‘Šè¯‰æˆ‘ç»“æœï¼Œæˆ‘ä¼šç»§ç»­ååŠ©ä½ ï¼
